<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title></title>
<link rel="stylesheet" href="../../css/frozen.css">
<link rel="stylesheet" href="../../css/match.css">
<link rel="stylesheet" href="../../../css/justin_mobile_common.css">
</head>

<body class="drawer drawer--left">
	<div class="ui-loading-block show">
		<div class="ui-loading-cnt">
			<i class="ui-loading-bright"></i>
		</div>
	</div>
	<div id="app" v-cloak>

		<header class="ui-header ui-header-positive ui-border-b" style="display: inline-flex;text-align: center;">
			<i class="ui-icon-return" onclick="nav()"></i>
			<label style="margin: auto;">{{labelPlayerInfo}}</label>
			<img v-show="showeditBtn" src="../../../img/common/edit.png" style="width: 30px;height: 30px;margin: 7px -6px 0px 0px;" v-on:click="gotoPersonalCenter"></img>
		</header>

		<section class="ui-container">
			<section id="tab">
				<div class="ui-row-flex ui-whitespace">
					<div class="ui-col-2 ui-flex-pack-center" style="padding: 10px 0px 0px 0px;">
						<!-- <div v-if="tournamentPlayerInfo.playerLogo" class="ui-avatar-lg" style="margin: auto;">
							<span style="background-image: url(http://static.footballer.cc/{{tournamentPlayerInfo.playerLogo}})"></span>
						</div>
						<div v-else class="ui-avatar-lg" style="width: 60px;height: 60px;">
							<img src="../../../img/app/football_career_edited_2.png" style="width: 60px;height: 60px;background-color: #f8f8f8;"></img>
						</div> -->
						
						<div v-if="tournamentPlayerInfo.playerLogo" class="ui-avatar-lg" style="margin: auto;width:100px;height:100px;">
							<span v-if="tournamentPlayerInfo.showWXLogo" style="background-image: url({{tournamentPlayerInfo.playerLogo}})"></span>
							<span v-else style="background-image: url(http://static.footballer.cc/{{tournamentPlayerInfo.playerLogo}})"></span>
						</div>
						<div v-else class="ui-avatar-lg" style="width: 60px;height: 60px;">
							<img src="../../../img/app/football_career_edited_2.png" style="width: 60px;height: 60px;background-color: #f8f8f8;"></img>
						</div>
						
						
					</div>

					<div class="ui-col-3" style="padding-left:5px;">
						<div class="ui-flex-ver ui-flex-align-end ui-flex-pack-end" style="margin: 10px 0 10px 0">
							<div style="text-align: left;">
								<span class="span14" style="color:#00a5e0">{{tournamentPlayerInfo.playerName}}</span>
							</div>
							<div>
								<span class="span18" style="font-family: sans-serif;padding-left:10px">{{tournamentPlayerInfo.playerNumber}}</span>
								<span class="span14" style="padding-left:13px">{{tournamentPlayerInfo.position}}</span>
							</div>
							<div class="ui-flex">
									<div v-if="tournamentPlayerInfo.teamLogo" class="ui-list-thumb-s" style="margin: 0px 10px 0px 0px;">
										<span style="background-image: url(http://static.footballer.cc/{{tournamentPlayerInfo.teamLogo}})"></span>
									</div>
									<div v-else class="ui-avatar-s" style="width: 40px;height: 40px;">
									     <img src="../../../img/app/football_career_edited_2.png" style="width: 40px;height: 40px;background-color: #f8f8f8;"></img>
									</div>
									<!-- <img src="../../image/captain.png" width="20px" height="15px" style="margin:4px 0px 0px 5px"> -->
									<div class="font_long_ellipsis" style="margin: 5px 0px 0px 0px;">
										<span class="span14">{{tournamentPlayerInfo.teamName}}</span>
									</div>
							</div>
						</div>
					</div>
				</div>

			</section>
		</section>

		<section class="ui-container2" style="margin-bottom: 50px;">
			<div class="demo-block">
				<div class="ui-tab">
					<ul class="ui-tab-nav ui-border-b">
						<li class="current">{{tabTimeLine}}</li>
						<li v-if="isTournamentRegisteredPlayer">{{tabOverView}}</li>
						<li v-if="isTournamentRegisteredPlayer">{{tabStats}}</li>
					</ul>
					<ul class="ui-tab-content">
						<!-- 动态 -->
						<li>
							<ul v-for="tl in tournamentAllTimeLineList" class="ui-list mb5">
									<li style="margin-left:5px">
										<img v-show="!tl.showWXLogo" src="http://static.footballer.cc/{{tl.playerLogo}}" style="width:40px;height:40px;margin-top: 5px;">
										<img v-show="tl.showWXLogo" src="{{tl.playerLogo}}" style="width:40px;height:40px;margin-top: 5px;"> 
										<div class="ui-flex ui-flex-ver ui-flex-pack-center ui-flex-align-start">
										    <div class="divInLine">
												<label class="ui-nowrap pr5 pl5" style="margin-top:0px">{{tl.playerName}}</label>
												<i v-show="tl.eventAction == 'forward'" class="ui-icon-share" style="display: inline; font-size:25px;margin-top: -10px;"></i>
												<i v-show="tl.eventAction == 'support'" class="ui-icon-liked" style="display: inline; font-size:25px;margin-top: -10px;"></i>
												<i v-show="tl.eventAction == 'comment'" class="ui-icon-commented" style="display: inline; font-size:25px;margin-top: -10px;"></i>
												<img v-show="tl.eventAction == 'share' && tl.eventType == 'moment'" src="../../../img/common/photo1_green_300u.png" style="width:20px;height:20px;margin: 0px 5px 11px 0px"/>
												
												
												<img v-show="tl.eventType == 'video'" src="../../../img/common/video1.jpeg" style="width:20px;height:20px;padding: 2px 0px 0 5px;">
												<img v-show="tl.primaryPlayerLogo != null && tl.showPrimaryWXLogo" src="{{tl.primaryPlayerLogo}}" style="width:20px;height:20px;margin: 0px 5px 11px 0px"/>
												<img v-show="tl.primaryPlayerLogo != null && !tl.showPrimaryWXLogo" src="http://static.footballer.cc/{{tl.primaryPlayerLogo}}" style="width:20px;height:20px;margin: 0px 5px 11px 0px"/>
												<img v-show="tl.eventAction == 'forward' && tl.eventType == 'moment' 
												             || tl.eventAction == 'comment' && tl.eventType == 'moment'
												             || tl.eventAction == 'support' && tl.eventType == 'moment'" src="../../../img/common/photo1_green_300u.png" style="width:20px;height:20px;margin: 0px 5px 11px 0px"/>
												
												<!-- <span class="font_long_ellipsis" style="font-size: 8px;">{{tl.eventContent}}</span> -->
												
												
											</div>
										    <div>
										    	<span style="font-size: 8px;padding-left: 5px;display: block;margin-top: -12px;">{{tl.eventDate}}</span>
										    </div>
										</div>			
									</li>
									<div v-show="tl.eventType == 'video'">
										<span v-show="tl.eventComment != null" style="font-size: 13px;color: darkgreen;margin: 0 0 0 5px;display: block;">{{tl.eventComment}}</span>
										<li style="margin: 5px 0 -10px 0;display:inline-flex;">
											<img class="footballer_lazy" data-original="{{tl.eventPicUrl}}" style="padding: 0 5px 0 5px;"  
											     data-type="video" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine"></img>
											<span style="width: 50%;font-size: 12px;margin: 8px 0 0 5px;display: block;">{{tl.eventContent}}</span>
										</li>
 									</div>
									
									<div v-show="tl.eventType == 'moment' && tl.eventDetailType == 'text'">
										<li>
											<span style="font-size: 12px;margin: 8px 0 0 5px;display: block;">{{tl.eventContent}}</span>
										</li>
									</div>
									
									<div v-show="tl.eventAction != 'comment' && tl.eventType == 'moment' && tl.eventDetailType == 'pic'">
										<span v-show="tl.eventComment != null" style="font-size: 13px;color: darkgreen;margin: 0 0 0 5px;display: block;">{{tl.eventComment}}</span>
										<li style="margin: 5px 0 -10px 0;">
											<span style="font-size: 12px;margin: 8px 0 0 5px;display: block;">{{tl.eventContent}}</span>
											<img class="footballer_lazy" data-original="{{tl.eventPicUrl}}" style="width: 97%;padding: 0 5px 0 5px;"
											     data-type="moment" data-detailType="pic" data-id="{{tl.eventId}}" v-on:click="clickTimeLine"></img>											
											  
										</li>
									</div>
									
									<div v-show="tl.eventAction == 'comment' && tl.eventType == 'moment' && tl.eventDetailType == 'pic'">
										<span v-show="tl.eventComment != null" style="font-size: 13px;color: darkgreen;margin: 0 0 0 5px;display: block;">{{tl.eventComment}}</span>
										<li style="margin: 5px 0 -10px 0;">
											<span style="font-size: 12px;margin: 8px 0 0 5px;display: block;">{{tl.eventContent}}</span>
											<img class="footballer_lazy" data-original="{{tl.eventPicUrl}}" src="../../../img/gif/loading1_160_20.gif" style="width: 97%;padding: 0 5px 0 5px;"
												 data-type="moment" data-detailType="pic" data-id="{{tl.eventId}}" v-on:click="clickTimeLine"></img>
										</li>
									</div>
									
									
									<div class="divInLine" style="height: 30px;">
										<div class="txtAg-c" style="width: 33%;display: inline-flex;padding: 4px 0 0 30px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine">
											<i class="ui-icon-share" style=" font-size:20px;margin-top: -10px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine"></i> 
											<span class="fs8" style="padding: 4px 0px 0 3px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine">{{tl.shareCount}}</span>
										</div>
										<div class="txtAg-c" style="width: 34%;display: inline-flex;padding: 4px 0 0 20px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine">
											<i class="ui-icon-comment" style="font-size:23px;margin-top: -10px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine"></i> 
											<span class="fs8" style="padding: 4px 0px 0 3px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="clickTimeLine">{{tl.commentCount}}</span>
										</div>
										<div class="txtAg-c" style="width: 33%;display: inline-flex;padding: 4px 0 0 10px;">
											<i id="supportTimeLineBtn" class="ui-icon-like" style="font-size:23px;margin-top: -10px;" data-type="{{tl.eventType}}" data-detailType="{{tl.eventDetailType}}" data-id="{{tl.eventId}}" v-on:click="supportTimeLine"></i>
											<span class="fs8" style="padding: 4px 0px 0 3px; " data-type="{{tl.eventType}}">{{tl.supportCount}}</span>
										</div>
									</div>
								</ul>
								<div id="testExpand">
								</div>
								<ul class="txtAg-c" style="padding:5px;">
									<button class="ui-btn" style="display: inline-flex;width: 150px;margin-right: 0px;" id="btnLoadMore">
								        <img src="../../../img/common/video1.jpeg" style="width:20px;height:20px;padding: 4px 15px 0 8px;">
								        <label>Loading More</label>
							    	</button>
								</ul>
						</li>
						
						<!-- 个人资料 -->
						<li v-if="isTournamentRegisteredPlayer">
							<div class="ui-list ui-list-one ui-border-b" >
								<ul class="ui-row">
									<li class="ui-col ui-col-50">
								    	<span class="span12" style="padding-left: 5px;padding-left: 5px;font-weight: bold;color: cadetblue;">{{labelTeam}}</span> 
								    </li>	
									<li class="ui-col ui-col-50">
									    <span class="span12">{{tournamentPlayerInfo.teamName}}</span>
									</li>
									<li class="ui-col ui-col-50">
								    	<span class="span12" style="padding-left: 5px;padding-left: 5px;font-weight: bold;color: cadetblue;">{{labelAge}}</span> 
								    </li>	
									<li class="ui-col ui-col-50">
									    <span class="span12">{{tournamentPlayerInfo.age}}  {{tournamentPlayerInfo.birth}}</span>
									</li>
									<li class="ui-col ui-col-50" >
								    	<span class="span12" style="padding-left: 5px;padding-left: 5px;font-weight: bold;color: cadetblue;">{{labelHeavyFoot}}</span> 
								    </li>	
									<li class="ui-col ui-col-50">
									    <span v-if="tournamentPlayerInfo.heavyFoot" class="span12">{{tournamentPlayerInfo.heavyFoot}}</span>
									    <span v-else class="span12">Right</span>
									</li>
									<li class="ui-col ui-col-50" >
								    	<span class="span12" style="padding-left: 5px;padding-left: 5px;font-weight: bold;color: cadetblue;">{{labelHeight}}</span> 
								    </li>	
									<li class="ui-col ui-col-50">
									    <span v-if="tournamentPlayerInfo.height" class="span12">{{tournamentPlayerInfo.height}}</span>
									    <span v-else class="span12">?</span>
									</li>
									<li class="ui-col ui-col-50" >
								    	<span class="span12" style="padding-left: 5px;padding-left: 5px;font-weight: bold;color: cadetblue;">{{labelWeight}}</span> 
								    </li>	
									<li class="ui-col ui-col-50">
									    <span v-if="tournamentPlayerInfo.weight" class="span12">{{tournamentPlayerInfo.weight}}</span>
									    <span v-else class="span12">?</span>
									</li>
								</ul>
							</div>
							
							<ul class="ui-row-flex ui-border-tb" style="">
								<li style="display: inline-flex;">
									<i class="ui-icon-like" style="width:30px;height:30px;margin:-5px 0 13px 0px;"></i>
									<span class="span14" style="margin-top:10px;">{{labelCapabilityApproval}}</span>
								</li>
							</ul>
							<ul class="ui-row-flex ui-border-tb" style="background-color: white;height:200px;">
								<li>敬请期待(Building)~</li>
							</ul>
							
						</li>
						
						<!-- 数据 -->
						<li v-if="isTournamentRegisteredPlayer">
							<ul class="ui-row-flex ui-border-tb" style="">
								<li style="display: inline-flex;">
									<img src="../../../img/analysis/dataAnalysis.png" style="width:30px;height:30px;margin: 5px;">
									<span class="span14" style="margin-top:10px;">{{labelTournamentRank}}</span>
								</li>
							</ul>
							<ul class="ui-row-flex ui-border-tb" style="background-color: white;">
								    <li class="ui-col ui-flex-var ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/MVP.png" style="width:35px;height:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No" style="color:gold;font-weight: bold;">{{currentPlayerStats.totalMVP}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalMVPRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/teamMVP.png" style="width:35px;height: 35px;">
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalTeamMvp}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalTeamMvpRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-var ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/goals.png" style="width:35px;height:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No" style="color:green;font-weight: bold;">{{currentPlayerStats.totalGoals}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalGoalsRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/assists.png" style="width:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No" style="color:green;font-weight: bold;">{{currentPlayerStats.totalAssists}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalAssistsRank}}</span>
									    </div>
								    </li>
								    
							</ul>
							<ul class="ui-row-flex ui-border-tb" style="background-color: white;">
									<li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/football/shoot300_3u.png" style="width:35px;height: 35px;">
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalShots}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalShotsRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/pass_finalball.png" style="width:35px;">	
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalPassFinalBall}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalPassFinalBallRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-var ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/key_defense.png" style="width:35px;height:35px;">	
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalKeyDefense}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalKeyDefenseRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/save.png" style="width:35px;height:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalSave}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalSaveRank}}</span>
									    </div>
								    </li>
								    
								    
							</ul>
							
							<ul class="ui-row-flex ui-border-tb" style="background-color: white;">
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/foul.png" style="width:35px;height:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalFouls}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue ">{{currentPlayerStats.totalFoulsRank}}</span>
									    </div>
								    </li>
							
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/yellowCard.png" style="width:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No c_yellow">{{currentPlayerStats.totalYellowCard}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalYellowCardRank}}</span>
									    </div>
								    </li>
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/redCard.png" style="width:35px;">
									    <div class="font_long_ellipsis"><span class="span13_No c_red">{{currentPlayerStats.totalRedCard}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalRedCardRank}}</span>
									    </div>
								    </li>
								    
								    <li class="ui-col ui-flex-ver ui-flex-pack-end" style="width:20%;text-align: center;padding:5px 0px 5px 0px">
								    	<img src="../../../img/analysis/ownGoals.png" style="width:50px;height:35px;">	
									    <div class="font_long_ellipsis"><span class="span13_No">{{currentPlayerStats.totalOwnGoals}}</span></div>
									    <div style="display: inline-flex;">
									    	<img src="../../../img/analysis/rank.png" style="width:15px;height:15px;padding: 1px 5px 0 0;">
									    	<span class="span12cfblue">{{currentPlayerStats.totalOwnGoalsRank}}</span>
									    </div>
								    </li>
							
							</ul>
					
							
							
							<ul class="ui-row-flex ui-border-tb" style="">
								<li style="display: inline-flex;">
									<!-- <img src="../../../img/backend/battle_100_120.png" style="width:30px;height:30px;margin: 5px;"> -->
									<div class="ui-list-thumb-s" style="margin: 5px;background-color: #25b359;">
										<span style="background-image:url(../../../img/app/football_career_edited_1.png)"></span>
									</div>
									<span class="span14" style="margin-top:10px;">{{labelTournamentAllMatchStats}}</span>
								</li>
							</ul>
							
							<div class="ui-row-flex" style="font-size: 12px;margin-bottom:50px;">
								<div class="ui-col">
									<ul v-for="t in playerTournamentStatsList" class="ui-list ui-border-b">
							    		<li v-if="$index==0" class="ui-flex ui-flex-pack-end" style="margin-left: 0px;padding: 1px 0 0 0;background-color: aliceblue;text-align: center;">
									        <div class="ui-list-text ui-col" style="width:10px;">
									        	<i class="ui-icon-pc" style="line-height: 25px;"></i>
									        </div>
									        <!-- <div class="ui-list-thumb-s" style="margin: 0px 5px 0px 0px;background-color: darkgray;">
												<span style="background-image:url(../../../img/app/football_career_edited_1.png)"></span>
											</div> -->
											<img src="../../../img/backend/battle_100_120.png" style="width:30px;height:21px;">
									        <!-- <div class="ui-col ui-border-r" style="width:30px;">
									            {{labelPlayerTitle}}
									        </div> -->
									        <div class="ui-list-text ui-col txtAg-c" style="background-color: azure;">
									             <img src="../../../img/analysis/goals.png" style="width:20px;height:20px;padding-left:2px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/football/shoot300_3u.png" style="width:20px;height:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c" style="background-color: aliceblue;">
									             <img src="../../../img/analysis/assists.png" style="width:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/pass_finalball.png" style="width:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c" style="background-color: ghostwhite;">
									             <img src="../../../img/analysis/key_defense.png" style="width:20px;height:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/save.png" style="width:20px;height:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/foul.png" style="width:20px;height:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/yellowCard.png" style="width:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/redCard.png" style="width:20px;">
									        </div>
									        <div class="ui-list-text ui-col txtAg-c">
									             <img src="../../../img/analysis/ownGoals.png" style="width:25px;height:20px;">
									        </div>
									    </li>
							    		<li class="ui-flex ui-flex-pack-end ui-border-b" style="margin-left:5px;text-align: center;">
									        <div class="ui-list-text ui-col" style="width:4px;">
									            <div class="ui-txt-info font_long_ellipsis" style="padding: 13px 0px 0px 0px;text-align: left;color: #25b359;">{{t.matchName}}</div> 
									        </div>
									        <div v-if="t.teamLogo" class="ui-list-thumb-s" style="margin: 10px 5px 0px 0px;">
									            <span style="background-image:url(http://static.footballer.cc/{{t.teamLogo}})"></span> 
									        </div>
											<div v-else class="ui-list-thumb-s" style="margin: 10px 5px 0px 0px;">
												<span style="background-image:url(../../../img/app/football_career_edited_2.png)"></span>
											</div>
									        <!-- <div class="ui-col ui-border-r" style="width:10px;">
									            <span class="font_long_ellipsis" style="font-size:12px;margin-top: 17px;display: block;">{{t.teamAbbr}}</span>
									        </div> -->
									        <div class="ui-list-text ui-col ui-border-b" style="background-color: azure;">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.goals}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.shots}}</div> 
									        </div>
									        <div class="ui-list-text ui-col ui-border-b" style="background-color: aliceblue;">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.assists}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.passFinalBall}}</div> 
									        </div>
									        <div class="ui-list-text ui-col ui-border-b" style="background-color: ghostwhite;">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.keyDefense}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.save}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;text-align:center;">{{t.fouls}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div v-if="t.yellowCard > 0" class="ui-txt-info c_yellow" style="padding: 13px 10px 10px 0px;">{{t.yellowCard}}</div>
									            <div v-else class="ui-txt-info" style="padding: 13px 10px 10px 0px;">{{t.yellowCard}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div v-if="t.redCard > 0" class="ui-txt-info c_red" style="padding: 13px 10px 10px 0px;">{{t.redCard}}</div>
									            <div v-else class="ui-txt-info" style="padding: 13px 10px 10px 0px;">{{t.redCard}}</div> 
									        </div>
									        <div class="ui-list-text ui-col">
									            <div class="ui-txt-info" style="padding: 13px 10px 10px 0px;">{{t.ownGoals}}</div> 
									        </div>
									    </li>
									</ul>
								</div>
							</div>

						</li>
					</ul>
				</div>
			</div>




			<section class="ui-selector"></section>

		</section>

		<footer class="ui-footer ui-footer-btn" onclick="aufFooterRedirect()">
			<div class="ui-flex ui-flex-pack-center">
				<img src="../../image/auf_logo_wechat_footer_1000_v1_alpha.png"
					width="160px" height="20px">
			</div>
		</footer>

	</div>

<script src="../../../i18n/env.js"></script>
<script src="../../../js/jquery-1.11.2.min.js" type="text/javascript"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script src="../../js/lib/zeptojs/zepto.min.js"></script>
<script src="../../js/frozen.js"></script>
<script src="../../js/server/service.js"></script>
<script src="../../../js/justin_common.js"></script>
<script src="../../js/lib/vue.min.js"></script>
<script src="../../js/lib/underscore-min.js"></script>
<script src="../../../js/jquery.i18n.properties-min-1.2.2.js" type="text/javascript"></script>
<script src="../../../js/jquery.lazyload.min.js" type="text/javascript"></script>

	
<script>
function nav(){
	if(document.referrer.indexOf('personalCenter') >0){
		history.go(-3)	
	}else{
		history.back();
	}
}

accessStats()


$(document).ready(function() {
	
	lang = f$.cache('lang')
	var vm;
	
	json = $.parseJSON(decodeURIComponent(getParameter(window.location.href ,"json")))
    playerId = Number(json.playerId)	
    tournamentId = Number(json.tournamentId)
		
	vm = new Vue({
		el   : '#app',
		data : {
			domain:'',
			suffix:'',
			labelPlayerInfo:'',
			labelTeamMVP:'',
			labelFounderd:'',
	        labelTeamMembers:'',
	        labelTournamentRank:'',
	        labelTeam:'',
	        labelAge:'',
	        labelHeavyFoot:'',
	        labelHeight:'',
	        labelWeight:'',
	        labelCapabilityApproval:'',
	        
	        labelStillYoung:'',
	        labelTournamentAllMatchStats:'',
	        tabTimeLine:'',
	        tabOverView:'',
	        tabStats:'',
			tournamentPlayerInfo:{},
			tournamentTeamPlayerInfoList:[],
			playerTournamentStatsList:[],
			currentPlayerStats:{},
			showeditBtn: false,
			isTournamentRegisteredPlayer : false,
			tournamentAllTimeLineList : [],
			
			timeLineCurrentPageIndex:0,
        	timeLinePageSize:20
		},
		methods: {
			init:function() {	    				
				vm.$data.domain =  GLOBAL_VAR_DOMAIN;
		        vm.$data.suffix = GLOBAL_VAR_SUFFIX;
		        vm.$data.loggedUserAvatar = f$.cache('uesr_current_peopleImgUrl');
 				$.i18n.properties({// 加载中文properties文件  
	    		    name:'lan', // properties文件名称  
	    		    path:'../../../i18n/', // properties文件路径  
	    		    mode:'map', // 用 Map 的方式使用资源文件中的值
	    		    language:lang,
	    		    checkAvailableLanguages: true,
	    		    callback: function() {// 加载成功后设置显示内容  
	    		    	
	    		    	vm.$data.labelPlayerInfo =  $.i18n.prop('playerInfo');
	    		        vm.$data.tabOverView =  $.i18n.prop('overview');
	    		        vm.$data.tabTimeLine =  $.i18n.prop('timeLine');
	    		        vm.$data.tabStats =  $.i18n.prop('tournament_dashboard_tab_stats');
	    		        vm.$data.labelTournamentRank =  $.i18n.prop('tournamentRank');
	    		        vm.$data.labelTournamentAllMatchStats =  $.i18n.prop('tournamentAllMatchStats');
	    		        
	    		        
	    		        vm.$data.labelTeam =  $.i18n.prop('team');
	    		        vm.$data.labelAge =  $.i18n.prop('age');
	    		        vm.$data.labelHeavyFoot =  $.i18n.prop('heavyFoot');
	    		        vm.$data.labelHeight =  $.i18n.prop('height');
	    		        vm.$data.labelWeight =  $.i18n.prop('weight');
	    		        vm.$data.labelStillYoung =  $.i18n.prop('stillYoung');
	    		        vm.$data.labelCapabilityApproval = $.i18n.prop('capabilityApproval');
	    		        
	    		        
	    		        
	    		    }
	    		});
 				
 				currentPlayer = f$.cacheObj('currentPlayer')
 				
 				
 				$('title').text(vm.$data.labelPlayerInfo)
				vm.loadData();
			},
			loadData:function(){
				vm.loadPlayerTimeLineInfo();
				
				f$.loadPlayerTournamentBaseInfo(vm.$data.domain, vm.$data.suffix, tournamentId,playerId).done(function(data) {
					vm.$data.isTournamentRegisteredPlayer = data.tournamentRegisteredPlayer
					
					if(Number(currentPlayer.id) == playerId && vm.$data.isTournamentRegisteredPlayer){ //是自己 同时是赛事注册球员 则可以编辑自己的信息
	 					vm.$data.showeditBtn = true
	 				}
					
	    			if(!data.tournamentRegisteredPlayer){ //非赛事球员
	    				vm.$data.tournamentPlayerInfo = {}
	    				vm.$data.tournamentPlayerInfo.playerName = currentPlayer.name
	    				vm.$data.tournamentPlayerInfo.playerLogo = currentPlayer.logo
	    				if(currentPlayer.logo && currentPlayer.logo.indexOf('mmopen')>0){
	    					vm.$data.tournamentPlayerInfo.showWXLogo = true;
	    				}else{
	    					vm.$data.tournamentPlayerInfo.showWXLogo = false;
	    				}
	    			}else{ //赛事球员
	    				vm.$data.tournamentPlayerInfo = data.tournamentPlayerBaseInfo
	    				if(data.tournamentPlayerBaseInfo.birth){
		    				formatBirth =  formatToDateString(new Date(data.tournamentPlayerBaseInfo.birth))
		    				vm.$data.tournamentPlayerInfo.birth = '  ['+formatBirth+']'
		    				vm.$data.tournamentPlayerInfo.age = getAgeByBirth(formatBirth)
		    			}else{
		    				vm.$data.tournamentPlayerInfo.age = vm.$data.labelStillYoung
		    			}
		    			
		    			if(vm.$data.tournamentPlayerInfo.playerLogo && vm.$data.tournamentPlayerInfo.playerLogo.indexOf('mmopen')>0){
	    					vm.$data.tournamentPlayerInfo.showWXLogo = true;
	    				}else{
	    					vm.$data.tournamentPlayerInfo.showWXLogo = false;
	    				}
		    			
		    			f$.loadPlayerTournamentStats(vm.$data.domain, vm.$data.suffix, tournamentId,playerId).done(function(data) {
			    			vm.$data.playerTournamentStatsList = data.playerAllTournamentMatchResultList 
			    			
			    			var currentPlayerStats = {}
			    			var allPlayerStatsTotalList = data.playerMatchResultList
			    			
			    			if(allPlayerStatsTotalList.length>0){
			    				currentPlayerStats.totalMVP =   _.find(allPlayerStatsTotalList, {playerId: playerId}).mvp || 0 
				    			//currentPlayerStats.totalMVPRank = _.chain(allPlayerStatsTotalList).sortBy('mvp').reverse().findIndex({ playerId: playerId}).value()+1
				    			currentPlayerStats.totalMVPRank = _.chain(allPlayerStatsTotalList).filter(function(e){ return e.mvp >0 }).sortBy('mvp').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalTeamMvp = _.find(allPlayerStatsTotalList, {playerId: playerId}).teamMVP || 0
				    			//currentPlayerStats.totalTeamMvpRank = _.chain(allPlayerStatsTotalList).sortBy('teamMvp').reverse().findIndex({ playerId: playerId}).value()+1
			    				currentPlayerStats.totalTeamMvpRank = _.chain(allPlayerStatsTotalList).filter(function(e){ return e.teamMVP >0 }).sortBy('teamMVP').reverse().findIndex({ playerId: playerId}).value()+1
				    			
			    				currentPlayerStats.totalGoals = _.find(allPlayerStatsTotalList, {playerId: playerId}).goals
				    			currentPlayerStats.totalGoalsRank = _.chain(allPlayerStatsTotalList).sortBy('goals').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalShots = _.find(allPlayerStatsTotalList, {playerId: playerId}).shots
				    			currentPlayerStats.totalShotsRank = _.chain(allPlayerStatsTotalList).sortBy('shots').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalPassFinalBall = _.find(allPlayerStatsTotalList, {playerId: playerId}).passFinalBall
				    			currentPlayerStats.totalPassFinalBallRank = _.chain(allPlayerStatsTotalList).sortBy('passFinalBall').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalAssists = _.find(allPlayerStatsTotalList, {playerId: playerId}).assists
				    			currentPlayerStats.totalAssistsRank = _.chain(allPlayerStatsTotalList).sortBy('assists').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalKeyDefense = _.find(allPlayerStatsTotalList, {playerId: playerId}).keyDefense
				    			currentPlayerStats.totalKeyDefenseRank = _.chain(allPlayerStatsTotalList).sortBy('keyDefense').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalSave = _.find(allPlayerStatsTotalList, {playerId: playerId}).save
				    			currentPlayerStats.totalSaveRank = _.chain(allPlayerStatsTotalList).sortBy('save').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalFouls = _.find(allPlayerStatsTotalList, {playerId: playerId}).fouls
				    			currentPlayerStats.totalFoulsRank = _.chain(allPlayerStatsTotalList).sortBy('fouls').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalYellowCard = _.find(allPlayerStatsTotalList, {playerId: playerId}).yellowCard
				    			currentPlayerStats.totalYellowCardRank = _.chain(allPlayerStatsTotalList).sortBy('yellowCard').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalRedCard = _.find(allPlayerStatsTotalList, {playerId: playerId}).redCard
				    			currentPlayerStats.totalRedCardRank = _.chain(allPlayerStatsTotalList).sortBy('redCard').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			currentPlayerStats.totalOwnGoals = _.find(allPlayerStatsTotalList, {playerId: playerId}).ownGoals
				    			currentPlayerStats.totalOwnGoalsRank = _.chain(allPlayerStatsTotalList).sortBy('ownGoals').reverse().findIndex({ playerId: playerId}).value()+1
				    			
				    			vm.$data.currentPlayerStats = currentPlayerStats
			    			} 
			    			tabinit();
			    		})
	    			}
	    		})
	    		$('.ui-loading-block').removeClass("show");
			},
			loadPlayerTimeLineInfo : function() {
				//获取最新赛事动态
				param = {
    				tournamentId:tournamentId,
    				playerId:playerId,
    				pageIndex:vm.$data.timeLineCurrentPageIndex,
    				pageSize:vm.$data.timeLinePageSize
    			}
    					
    			f$.loadPlayerTournamentPagTimeLines(vm.$data.domain,vm.$data.suffix, param).done(function(data) {
	    					
	    			if(!data.tournamentTimeLineList) 
	    				data.tournamentTimeLineList = [];
	    					
	    			vm.$data.tournamentAllTimeLineList = vm.$data.tournamentAllTimeLineList.concat(data.tournamentTimeLineList);
	    					
	    			$.each(vm.$data.tournamentAllTimeLineList, function(i,v){
	    				v.eventDate = formatToDateTimeString(new Date(v.eventDate))
	    				if(v.playerLogo && v.playerLogo.indexOf('mmopen')>0){
	    	    			v.showWXLogo = true;
	    	    		}else{
	    	    			v.showWXLogo = false;
	    	    		}
	    				
	    				if(v.primaryPlayerLogo && v.primaryPlayerLogo.indexOf('mmopen')>0){
	    	    			v.showPrimaryWXLogo = true;
	    	    		}else{
	    	    			v.showPrimaryWXLogo = false;
	    	    		}
	    	    	});
	    					
	    			$("#btnLoadMore").hide();
	    			vm.$data.isLoadingTimeLineData = false;
	    					
		    	    setTimeout(function() { timeLineJqueryPluinInit(); }, 500);

	    	    });			    	    		
			},
			clickPlayerItem:function(e) {
            	var $target = $(e.target)
            	$target = $target.is('ul') ? $target : $(e.target).parents('ul')
            	var tournamentId = $target.attr('id')
            	var tournamentName = $target.attr('data-name')
            	var tournamentLogo = $target.attr('data-logo')
            	var tournamentDate = $target.attr('data-date')
            	var tournamentOrgName = $target.attr('data-OrgName')
            	var tournamentOrgLogo = $target.attr('data-OrgLogo')
            	
                var jsonObj = {
					"tournamentId": tournamentId,
            		"tournamentName" : tournamentName,
            		"tournamentLogo" : tournamentLogo,
                  	"tournamentDate" : tournamentDate,
                   	"tournamentOrgName" : tournamentOrgName,
                   	"tournamentOrgLogo" : tournamentOrgLogo
            	}
				var json= encodeURIComponent(JSON.stringify(jsonObj))	
            	location.href = vm.$data.domain+'footballer/mobile/match/football/tournamentDashboard.html'+'?json='+json;		
			},
			gotoPersonalCenter:function(e){
				//alert(currentPlayer.id)
				location.href = vm.$data.domain+'footballer/mobile/match/football/personalCenter.html?lang='+lang+'&tournamentId='+tournamentId;
			},
			clickTimeLine : function(e){
				var $target = $(e.target)
            	var item = {} 
            	item.id = $target.attr('data-id'),
            	item.type = $target.attr('data-type')
            	item.detailType = $target.attr('data-detailType')
            	//console.log(item)
					
            	if(item.type == 'video'){
            		if(item.detailType == 0){
            			location.href = vm.$data.domain+'footballer/mobile/match/football/tournamentMatchVideo.html?method=matchVideo&matchId='+ item.id + '&tournamentId='+ tournamentId		
            		}else{
            			location.href = vm.$data.domain+'footballer/mobile/match/football/tournamentMatchVideo.html?method=video&videoId='+ item.id + '&tournamentId='+ tournamentId
            		}
            	}
				if(item.type == 'moment'){
					location.href = vm.$data.domain+'/footballer/mobile/match/football/tournamentMoment.html?momentId='+ item.id	    					
				}
			}
		}
	});
	
	vm.init();
	$('.ui-loading-block').removeClass("show");
	
	function timeLineJqueryPluinInit() {
		$("img.footballer_lazy").lazyload({
			placeholder :"../../../img/gif/loading1_160_20.gif",
			//placeholder :"../../../img/gif/loading1.gif",
			threshold: 300,
			effect: "fadeIn"
		});
	}
	
	function tabinit()
	{
		var tab = new fz.Scroll('.ui-tab', {
	        role: 'tab',
	        autoplay: false,
		});
	} 
});
          
</script>
</body>

</html>